w Node moze byc lista modułów
Node przetwarza moduły, które robią co uważają, rozszerzając w ten sposób możliwości Node, który sam z siebie tylko zarządza siecią

JournalModule
FilesystemModule
or sth


kazdy moduł miałby setupLogic które ustawiałoby logikę


jak logicznie polaczyc PacketGroup z eventami?

request -> event -> response... gdzie przetrzymac connection?
event jest procesowany w innym wątku! nie mozna utrzymać kontekstu między pakietem a eventem... chyba, ze go bezpośrednio przekażemy

w process jest ConnectionContext.


setupOriginFromContext<OriginType>::setupOrigin(OriginType& origin)


Dependencies module

class Dupa {

IDependency* after = new Dependency<Dupa1,Dupa2,Dupa3>();
Dependency<Dupa4,Dupa5> before;

}

Dependency przerabia liste klas na liste intow mechanizmem z ubera. z kazdej klasy mozna pobrac jej id

node uruchamiajac klasy moze je sobie posortowac odpowiednio
dependency sorting


Command module with module submodules and mapping

commandModule->map<BasicModule>("start", BasicModule::startNode);

command by parsował parametry z main i wysylal command packet do wlasciwej instancji node.